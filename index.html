<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mickey's Magical Scavenger Hunt</title>
    <!-- Use fun, Disney-like fonts from Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@400;700&display=swap">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Define Disney-inspired color palette */
        :root {
            --disney-blue-light: #B0E0E6; /* Powder Blue */
            --disney-blue-dark: #6A5ACD; /* Slate Blue */
            --disney-gold: #FFD700; /* Gold */
            --disney-red: #E63946; /* Imperial Red */
            --disney-green: #2ECC71; /* Emerald Green */
            --disney-purple: #9B59B6; /* Amethyst */
            --disney-pink: #FF69B4; /* Hot Pink */
            --text-dark: #333;
            --text-light: #fff;
            --card-bg: rgba(255, 255, 255, 0.95);
            --border-color: #A8DADC;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, var(--disney-blue-light) 0%, var(--disney-blue-dark) 100%);
            color: var(--text-dark);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            overflow: hidden; /* Hide overflow from animations */
            position: relative; /* For animations to position correctly */
        }

        .game-container {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 25px; /* More rounded */
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3); /* Stronger shadow */
            text-align: center;
            max-width: 650px; /* Slightly wider */
            width: 100%;
            border: 3px solid var(--disney-gold); /* Gold border */
            position: relative;
            z-index: 10; /* Ensure container is above animations */
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .title {
            font-family: 'Pacifico', cursive; /* Playful font for title */
            font-size: 3rem; /* Larger title */
            font-weight: 700;
            color: var(--disney-red);
            text-shadow: 3px 3px 5px rgba(0,0,0,0.2); /* Enhanced shadow */
            margin-bottom: 25px;
            line-height: 1.1;
        }

        .clue-display {
            font-size: 1.35rem; /* Slightly larger clue text */
            line-height: 1.7;
            margin-bottom: 35px;
            background-color: #fcfdff; /* Lighter background for clue */
            padding: 25px;
            border-radius: 15px;
            border: 2px dashed var(--border-color); /* Dashed border for fun */
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
        }

        #message {
            margin-top: 25px;
            font-size: 1.2rem;
            font-weight: 700;
            transition: color 0.3s ease;
        }

        .correct {
            color: var(--disney-green);
        }

        .incorrect {
            color: var(--disney-red);
        }

        input[type="text"] {
            border: 2px solid var(--border-color);
            padding: 18px; /* Larger padding */
            font-size: 1.3rem; /* Larger font */
            width: 100%;
            border-radius: 12px;
            transition: all 0.3s ease;
            text-align: center; /* Center text */
        }

        input[type="text"]:focus {
            outline: none;
            border-color: var(--disney-blue-dark);
            box-shadow: 0 0 10px rgba(106, 90, 205, 0.6);
        }

        button {
            background-color: var(--disney-red);
            color: var(--text-light);
            padding: 18px 35px; /* Larger padding */
            font-size: 1.3rem; /* Larger font */
            font-weight: 700;
            border-radius: 12px;
            box-shadow: 0 6px 10px rgba(0,0,0,0.2); /* Stronger shadow */
            transition: transform 0.2s, background-color 0.2s, box-shadow 0.2s;
            border: none; /* Remove default button border */
            cursor: pointer;
        }

        button:hover {
            background-color: #c92c39; /* Darker red on hover */
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.3);
        }

        button:active {
            transform: translateY(0);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        /* ----- Mobile Optimizations ----- */
        @media (max-width: 640px) {
            body {
                padding: 10px; /* Less padding on very small screens */
            }

            .game-container {
                padding: 20px; /* Reduced padding for container */
                border-radius: 15px;
            }

            .title {
                font-size: 2.2rem; /* Smaller title on mobile */
                margin-bottom: 15px;
            }

            .clue-display {
                font-size: 1.1rem; /* Smaller clue text on mobile */
                padding: 15px;
                margin-bottom: 25px;
            }

            #message {
                font-size: 1rem; /* Smaller message text */
            }

            input[type="text"] {
                padding: 12px; /* Smaller input padding */
                font-size: 1.1rem; /* Smaller input font */
            }

            button {
                padding: 12px 25px; /* Smaller button padding */
                font-size: 1.1rem; /* Smaller button font */
            }
        }

        /* ----- Animation Styles ----- */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: var(--disney-gold); /* Gold */
            animation: confetti-fall 2s forwards;
            opacity: 0;
            border-radius: 50%;
            z-index: 20; /* Higher z-index to be in front */
        }

        @keyframes confetti-fall {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0.5; }
        }

        /* Star animation */
        .star {
            position: absolute;
            width: var(--size);
            height: var(--size);
            background-color: var(--color);
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
            animation: star-sparkle var(--duration) ease-out forwards;
            opacity: 0;
            z-index: 20; /* Higher z-index to be in front */
            filter: drop-shadow(0 0 5px var(--color)); /* Glow effect */
        }

        @keyframes star-sparkle {
            0% { transform: translateY(0) scale(0.5) rotate(0deg); opacity: 0; }
            20% { opacity: 1; }
            100% { transform: translateY(-100vh) scale(1.5) rotate(360deg); opacity: 0; }
        }

        /* Mickey Head animation */
        .mickey-head {
            position: absolute;
            width: var(--size);
            height: var(--size);
            background-color: var(--color); /* Use a color variable */
            border-radius: 50%;
            animation: mickey-rise var(--duration) ease-out forwards;
            opacity: 0;
            z-index: 20; /* Higher z-index to be in front */
            filter: drop-shadow(0 0 5px rgba(0,0,0,0.5)); /* Subtle shadow */
        }

        .mickey-head::before,
        .mickey-head::after {
            content: '';
            position: absolute;
            width: calc(var(--size) * 0.6); /* Ears proportional to head */
            height: calc(var(--size) * 0.6);
            background-color: var(--color);
            border-radius: 50%;
            top: calc(var(--size) * -0.25); /* Position ears above head */
        }

        .mickey-head::before {
            left: calc(var(--size) * -0.25);
        }

        .mickey-head::after {
            right: calc(var(--size) * -0.25);
        }

        @keyframes mickey-rise {
            0% { bottom: 0; transform: translateX(-50%) scale(0.5); opacity: 0.5; }
            50% { opacity: 1; }
            100% { bottom: 100vh; transform: translateX(-50%) scale(1.2); opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1 class="title">Mickey's Magical Scavenger Hunt</h1>
        
        <!-- Display the current clue -->
        <p class="clue-display" id="clueText"></p>
        
        <div class="flex flex-col gap-4">
            <!-- Input for the QR code answer -->
            <input type="text" id="answerInput" placeholder="Enter the code you found..." class="p-3 text-lg border rounded-lg focus:outline-none focus:ring-2">
            
            <!-- Button to submit the answer -->
            <button id="submitButton">Submit Answer</button>
        </div>

        <!-- Area for feedback messages -->
        <p id="message"></p>
    </div>

    <script>
        // Use a self-executing function to avoid polluting the global scope.
        (function() {
            // Arrays with the clues and correct answers in the order you provided.
            const clues = [
                `Hop or skip, have some fun! You'll find Mickey #1.`,
                'The best stories are found in books. Find another Mickey when you take a look.',
                `You're doing great, finding Mickey's with no trouble! The next one is hiding near a bubble.`,
                'Where pink flowers bloom, but do not grow, you\'ll find this Mickey hiding low.',
                'The next Mickey that you\'ll see is hiding right next to a bee.',
                'Standing on one leg, they don\'t get far. This Mickey is by the Mini Bar.',
                `We'll tell you a secret that we heard, the next Mickey is hiding by an angry bird.`,
                `Ohana means family. That's the clue. This lemon Mickey is waiting for you.`,
                `The map will help you find your way when you hunt for Mickey's today.`,
                'Order tacos, burritos, and nachos too! That\'s where this Mickey is waiting for you.',
                'Fill up your bottle or take a drink. Mickey\'s hiding by the sink.',
                `This Mickey is hiding by the loo. Look by the calendar and you'll find him too!`,
            ];

            const correctAnswers = [
                'Hop Skip',
                'Books',
                'Bubble',
                'Flowers',
                'Bee',
                'Flamingo',
                'Chicken',
                'Lemonade',
                'Map',
                'Taco Stand',
                'Fountain',
                'Calendar',
            ];

            // Get references to DOM elements
            const clueTextElement = document.getElementById('clueText');
            const answerInput = document.getElementById('answerInput');
            const submitButton = document.getElementById('submitButton');
            const messageElement = document.getElementById('message');

            let currentClueIndex = 0;
            const starColors = ['var(--disney-gold)', 'yellow', 'var(--disney-blue-light)'];
            const mickeyColors = ['#000', 'var(--disney-red)', 'var(--disney-purple)']; // Black, Red, Purple for Mickey heads

            // Function to update the clue display
            function displayCurrentClue() {
                if (currentClueIndex < clues.length) {
                    clueTextElement.textContent = clues[currentClueIndex];
                } else {
                    // This handles the "all done" state with the new message
                    clueTextElement.textContent = `Yay! you finished the Hidden Mickey Hunt. Grab your Mickey ears at the State Employees Credit Union booth- Limit one prize per child winner, while supplies last!`;
                    submitButton.style.display = 'none'; // Hide the button
                    answerInput.style.display = 'none'; // Hide the input
                    messageElement.textContent = 'You found all the Mickey\'s!';
                    messageElement.className = 'correct';
                    // Add a fun confetti effect for the grand finale!
                    createConfetti();
                }
            }

            // Function to check the submitted answer
            function checkAnswer() {
                const submittedAnswer = answerInput.value.trim();
                const correctAnswer = correctAnswers[currentClueIndex];

                if (submittedAnswer.toLowerCase() === correctAnswer.toLowerCase()) {
                    messageElement.textContent = `That's correct! Get ready for your next clue...`;
                    messageElement.className = 'correct';
                    
                    // Show Disney-themed animations on correct answer
                    createDisneyAnimations();
                    
                    // Move to the next clue
                    currentClueIndex++;
                    answerInput.value = ''; // Clear the input field
                    
                    // Wait a moment before showing the next clue
                    setTimeout(displayCurrentClue, 1500);
                } else {
                    messageElement.textContent = `Oops, that's not the right code. Please try again!`;
                    messageElement.className = 'incorrect';
                }
            }
            
            // Creates a mix of star and Mickey head animations
            function createDisneyAnimations() {
                const numAnimations = 20; // More animations
                for (let i = 0; i < numAnimations; i++) {
                    const type = Math.random() < 0.5 ? 'star' : 'mickey-head'; // Randomly choose between star and Mickey head
                    const element = document.createElement('div');
                    element.classList.add(type);

                    // Random size
                    const size = Math.random() * (type === 'star' ? 30 : 50) + (type === 'star' ? 15 : 30); // Stars smaller than Mickeys
                    element.style.setProperty('--size', `${size}px`);

                    // Random color
                    const color = type === 'star' ? starColors[Math.floor(Math.random() * starColors.length)] : mickeyColors[Math.floor(Math.random() * mickeyColors.length)];
                    element.style.setProperty('--color', color);

                    // Random horizontal position
                    element.style.left = `${Math.random() * 100}vw`; 
                    
                    // Random animation duration and delay
                    element.style.setProperty('--duration', `${Math.random() * 2 + 3}s`); // Duration between 3s and 5s
                    element.style.animationDelay = `${Math.random() * 0.5}s`; // Stagger animations
                    
                    document.body.appendChild(element);

                    // Remove the element after its animation is done
                    element.addEventListener('animationend', () => {
                        element.remove();
                    });
                }
            }

            // Function to create a confetti effect (for the final screen)
            function createConfetti() {
                const numConfetti = 100; // More confetti
                const confettiColors = ['#FFD700', '#FF69B4', '#2ECC71', '#4A90E2', '#9B59B6']; // More vibrant colors
                for (let i = 0; i < numConfetti; i++) {
                    const confetti = document.createElement('div');
                    confetti.classList.add('confetti');
                    confetti.style.left = `${Math.random() * 100}vw`;
                    confetti.style.backgroundColor = confettiColors[Math.floor(Math.random() * confettiColors.length)];
                    confetti.style.animationDelay = `${Math.random() * 2}s`;
                    document.body.appendChild(confetti);
                }
            }

            // Event listeners
            submitButton.addEventListener('click', checkAnswer);
            answerInput.addEventListener('keypress', (event) => {
                if (event.key === 'Enter') {
                    checkAnswer();
                }
            });

            // Initialize the game
            window.onload = displayCurrentClue;

        })();
    </script>
</body>
</html>

